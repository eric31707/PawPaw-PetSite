<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
	  integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
<link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
<link rel="stylesheet" href="https://fontawesome.com/v4.7.0/assets/font-awesome/css/font-awesome.css">



<div class="container" id="app">

	<div id="carouselExampleIndicators" class="carousel slide my-5 shadow-lg rounded-5" data-bs-ride="carousel"
		 data-bs-interval="4000" data-bs-mouse="false">
		<div class="carousel-indicators">
			<button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active"
					aria-current="true" aria-label="Slide 1"></button>
			<button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1"
					aria-label="Slide 2"></button>
			<button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2"
					aria-label="Slide 3"></button>
			<button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="3"
					aria-label="Slide 4"></button>
			<button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="4"
					aria-label="Slide 5"></button>
		</div>

		<div class="carousel-inner rounded-5 shadow-lg">
			<div class="carousel-item active">
					<img src="/images/kung04.jpg" class="d-block w-100">
			</div>
			<div class="carousel-item">
				<img src="/images/kung02.jpg" class="d-block w-100">
			</div>
			<div class="carousel-item">
				<img src="/images/kung03.jpg" class="d-block  w-100">
			</div>
			<div class="carousel-item">
				<img src="/images/kung04.jpg" class="d-block  w-100">
			</div>
			<div class="carousel-item">
				<img src="/images/kung05.jpg" class="d-block w-100">
			</div>
		</div>
		
	</div>

	<div class="row">



		<aside class="col-md-3">
			<div class="card">
				<article class="filter-group">
					<header class="card-header">
						<div href="#" data-toggle="collapse" data-target="#collapse_1" aria-expanded="true" class="">
								<h6 style="color:saddlebrown;" class="title">關鍵字搜尋</h6>
								<i class="icon-control fa fa-chevron-down"></i>
						</div>
					</header>
					<div class="filter-content collapse show" id="collapse_1">
						<div class="card-body">
							<div class="input-group">
								<input type="text" class="form-control" placeholder="Search" v-model="Name">
								<div class="input-group-append">
									<button class="btn btn-light" type="button" @@click="getAllProductNameDTOes">
										<i class="fa fa-search"></i>
									</button>
								</div>
							</div>
						</div> <!-- card-body.// -->
					</div>
				</article> <!-- filter-group  .// -->
				<article class="filter-group">
					<header class="card-header">
						<div href="#" data-toggle="collapse" data-target="#collapse_2" aria-expanded="true" class="">
							<h6  style="color:saddlebrown;"class="title">商品分類 </h6>
							<i class="icon-control fa fa-chevron-down"></i>
						</div>
					</header>
					<div class="filter-content collapse show" id="collapse_2">
						<div class="card-body">
							<label class="custom-control custom-radio">
								<input type="radio" checked="" class="custom-control-input" name="myfilter_radio" v-model="Category" value="" @@change="getAllProductNameDTOes">
								<div class="custom-control-label">
									全部分類
									<b class="badge badge-pill badge-light float-right"></b>
								</div>
							</label>
							<label class="custom-control custom-radio">
								<input type="radio" class="custom-control-input" name="myfilter_radio" v-model="Category" value="用品" @@change="getAllProductNameDTOes">
								<div class="custom-control-label">
									用品
									<b class="badge badge-pill badge-light float-right"></b>
								</div>
							</label>
							<label class="custom-control custom-radio">
								<input type="radio" class="custom-control-input" name="myfilter_radio" v-model="Category" value="食品" @@change="getAllProductNameDTOes">
								<div class="custom-control-label">
									食品
									<b class="badge badge-pill badge-light float-right"></b>
								</div>
							</label>
							<label class="custom-control custom-radio">
								<input type="radio" class="custom-control-input" name="myfilter_radio" v-model="Category" value="保健" @@change="getAllProductNameDTOes">
								<div class="custom-control-label">
									保健
									<b class="badge badge-pill badge-light float-right"></b>
								</div>
							</label>
							<label class="custom-control custom-radio">
								<input type="radio" class="custom-control-input" name="myfilter_radio" v-model="Category" value="貓砂" @@change="getAllProductNameDTOes">
								<div class="custom-control-label">
									貓砂
									<b class="badge badge-pill badge-light float-right"></b>
								</div>
							</label>
						</div> <!-- card-body.// -->
					</div>
				</article> <!-- filter-group .// -->
				<article class="filter-group">
					<header class="card-header">
						<div href="#" data-toggle="collapse" data-target="#collapse_2" aria-expanded="true" class="">
							<h6 style="color:saddlebrown;"class="title">物種 </h6> 
							<i class="icon-control fa fa-chevron-down"></i>
						</div>
					</header>
					<div class="filter-content collapse show" id="collapse_2">
						<div class="card-body">
							<label class="custom-control custom-radio">
								<input type="radio" checked="" class="custom-control-input" name="specie" v-model="Species" value="" @@change="getAllProductNameDTOes">
								<div class="custom-control-label">
									全部物種
								</div>
							</label>
							<label class="custom-control custom-radio">
								<input type="radio" class="custom-control-input" name="specie" v-model="Species" value="貓" @@change="getAllProductNameDTOes">
								<div class="custom-control-label">
									貓
								</div>
							</label>
							<label class="custom-control custom-radio">
								<input type="radio" class="custom-control-input" name="specie" v-model="Species" value="狗" @@change="getAllProductNameDTOes">
								<div class="custom-control-label">
									狗
								</div>
							</label>

						</div> <!-- card-body.// -->
					</div>
				</article>
				<article class="filter-group">
					<header class="card-header">
						<div href="#" data-toggle="collapse" data-target="#collapse_3" aria-expanded="true" class="">
								<h6 style="color:saddlebrown;"class="title">價格範圍</h6> 
								<i class="icon-control fa fa-chevron-down"></i>
						</div>
					</header>
					<div class="filter-content collapse show" id="collapse_3">
						<div class="card-body">

							<div class="form-row">
								<div class="form-group col-md-6">
									<label>Min</label>
									<input class="form-control" placeholder="$0" type="number" v-model="minprice" min="0" max="3000">
								</div>
								<div class="form-group text-right col-md-6">
									<label>Max</label>
									<input class="form-control" placeholder="$5000" type="number" v-model="maxprice" min="0" max="3000">
								</div>
							</div> 
							<button class="btn btn-block btn-primary" @@click="getAllProductNameDTOes">搜尋範圍內商品</button>
						</div>
					</div>
				</article>
			</div>

		</aside>
		<main class="col-md-9">
			<div class="row">
				<div v-for="item in AllProductNameDTOes" class="col-md-4">
					<figure class="card card1 ">
						<div class="card-img rounded-3  overflow-hidden">
							<img :src="item.images" class="img-fluid d-block card-img rounded-3 overflow-hidden"
								 @@click="getClickID(item.productNameId)">
						</div>

						<figcaption class="info-wrap">
							<div class="fix-height">
								<div style="text-align:center">
									<a href="#" class="title" style="color:cadetblue" @@click="getClickID(item.productNameId)">{{item.name}}</a>
								</div>
								<div class="price-wrap mt-2" style="text-align:center">
									<span class="price">NT${{item.price}}</span>
								</div> 
							</div>

						</figcaption>
					</figure>
				</div>
		</main>
	</div>
</div>
@section Styles{
	<style>
		.card1 img {
			transition: all 0.2s;
		}

		.card1:hover img {
			transform: scale(1.1);
		}

		.overflow-hidden {
			overflow: hidden;
		}

		.badge {
			background-color: gray;
		}
	</style>
}
	 

@section Scripts{

	<script src="https://unpkg.com/vue@next"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.3.3/axios.min.js"></script>
	<script src="https://unpkg.com/element-ui/lib/index.js"></script>
	<script src="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>
	<script>
		var webApiBaseUri = "https://localhost:7150"
		var vueApp = {
			data() {
				return {
					AllProductNameDTOes: [],
					Name: "",
					Category: "",
					minprice: "",
					maxprice: "",
					Species: "",
					Category: "",

				};
			},
			mounted:
				function (event) {
					let _this = this;
					_this.getAllProductNameDTOes();
				},
			methods: {
				getAllProductNameDTOes: function () {
					let _this = this;
					axios.get(`${webApiBaseUri}/api/Products?name=${_this.Name}&&max=${_this.maxprice}&&mini=${_this.minprice}&&Species=${_this.Species}&&Category=${_this.Category}`).then(response => {
						_this.AllProductNameDTOes = response.data;
						_this.total = response.data.number;
					});
				},
				getClickID(id) {
					parent.window.location.assign(`https://localhost:7180/WillyView/ProductDetail?${id}`);
				},
			}
		}
		var app = Vue.createApp(vueApp).mount("#app");
	</script>

    }


